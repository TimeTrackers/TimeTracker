<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Time Tracker</title>

  <!-- Imported font links -->
  <link href="https://fonts.googleapis.com/css?family=Abril+Fatface|Raleway" rel="stylesheet"> 

  <!-- CSS script links -->
  <link rel="stylesheet" href="/vendor/styles/normalize.css">
  <link rel="stylesheet" href="/styles/base.css">
  <link rel="stylesheet" href="/styles/layout.css">
  <link rel="stylesheet" href="/styles/module.css">

  <!-- Timeblock template -->
  <!-- <script id="timeblock-template" type="text/x-handlebars-template">
    <article>
      <ul>
        <li id="entry-date">{{ date }}</li>
        <li id="start-time"><a href="{{ data }}" target="_blank">{{ start }}</a></li>
        <li id="end-time"><a href="{{ data }}" target="_blank">{{ end }}</a></li>
        <li id="activity"><a href="{{ data }}" target="_blank">{{ activity }}</a></li>
        <li id="why-activity"> for {{ activity }}<span id="entry-description">({{ description }})</span></li>
        <li id="description">{{{ description }}}</li>
        <li id="goal"><a href="{{ data }}" target="_blank">{{ goal }}</a></li>
      </ul>
    </article>
  </script> -->
</head>

<body>
  <div id="container">
  <header class="main-header">
    <div class="header-wrap">
    
    <!-- TODO: Add logout option (stretch: "Hello, User") -->
    <nav class="main-nav">
      <ul>
        <li class="navtab"><a href="/api/auth/signin">Sign-in</a></li>
        <li class="navtab"><a href="/api/auth/signup">Create Account</a></li>
        <li class="navtab"><a href="/manage">Manage Account</a></li>
        <li class="navtab"><a href="/dashboard">Tracker Dashboard</a></li>
        <li class="navtab"><a href="/signout">Sign-out</a></li>
      </ul>
    </nav>
    </div>
  </header>

  <main>
    <div class="background-image">
      <img src="/images/header.jpeg"/>
    </div>

    <div class="tab-container">
      <!-- landingView if not signed in -->
      <!-- TODO: differentiate if signed in landingView = dashboardView -->
      <section id="landing-page" class="tab-content">
          <h1>Welcome to Time Tracker!</h1>

          <div id="signin-form">
            <form name="signin" action="submit" method="post" accept-charset="UTF-8">
              <label for="username">Username:</label><br>
                <input type="text" name="username" placeholder="myusername" required><br>
              <label for="password">Password:</label><br>
                <input type="text" name="password" placeholder="mypassword" required><br>
              
              <div class="signin-submit">
              <!-- TODO: submit event handler sends username/password to /api/auth/signin -->
              <!-- DONE: server returns token with username & user._id (or error) -->
              <!-- TODO: token saved to localStorage, included in any AJAX calls to routes -->
                <button id="signin-submit" type="button">Sign-in</button><br>
                <!-- TODO: redirect to signupView -->
                <a href='#'>Create new account</a>
              </div>
            </form>
          </div>
      
      <!-- signupView -->
      <section id="signup-page" class="tab-content">
        <div id="about">
          <h1>About Time Tracker</h1>
            <p id="pitch">This web app was designed with habit-builders in mind. We'll help you identify where your time is being spent in the activities you regularly enagage with, and assist you in aligning that awareness with the achievement of bigger goals. You choose what goals are most meaningful to you, and we'll keep you updated on how it's all coming together. Whether you're setting your sights on forming new habits or improving ones you already have, make time mindfulness work for you!</p>
        </div>

        <div id="create-account">
          <h1>Create an account</h1>

          <div id="signup-form">
            <form name="signup" action="" method="post" accept-charset="UTF-8">
              <label for="username">Username:</label><br>
                <input type="text" name="username" placeholder="myusername" required><br>
              <label for="password">Password:</label><br>
                <input type="text" name="password" placeholder="mypassword" required><br>
              
              <div class="signup-submit">
              <!-- TODO: submit event handler sends username/password to /api/auth/signup -->
              <!-- DONE: server returns token with username & user._id (or error) -->
              <!-- TODO: token saved to localStorage, included in any AJAX calls to routes -->
                <button id="signup-submit" type="button" value="Create account">Create account</button><br>
                <!-- TODO: redirect to manageView -->
                <!--<a href='#'>Setup and manage tracking</a>-->
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- manageView -->
      <!-- TODO: add delete entry functionality -->
      <section id="manage-page" class="tab-content">
        <div id="activities">
          <h1>Enter your activities</h1>

            <div id="activities-form">
              <form name="activities" action="" method="" accept-charset="UTF-8">
                <label for="activity">Activity:</label><br>
                  <select name="activity" id="activity-select">
                    <option value="">--Select Activity</option>
                    <option value="running">running</option> 
                    <option value="swimming">swimming</option>
                    <option value="biking">biking</option>
                  </select><br>
                <label for="target">Target:</label><br>
                  <input type="text" name="target" placeholder="target" required><br>
              
              <div class="activity-submit">
              <!-- TODO: AJAX call to POST /api/users/activities -->
                <button id="activity-submit" type="button">Track Activity</button><br>
                <!-- TODO: redirect to dashboardView -->
                <!-- TODO: toggle between activity and goal graph views -->
              </div>
            </form>

            <div id="new-activities-form">
              <form name="new-activities" action="" method="" accept-charset="UTF-8">
                <label for="new-activity">New Activity:</label><br>
                  <input type="text" name="new-activity" placeholder="myactivity" required><br>
                <label for="target">Target:</label><br>
                  <input type="text" name="target" placeholder="target" required><br>
              
              <div class="activity-submit">
              <!-- TODO: AJAX call to POST /api/users/activities -->
                <button id="new-activity-submit" type="button" value="Track activity">Track Activity</button><br>
                <!-- TODO: redirect to dashboardView -->
                <!-- TODO: toggle between activity and goal graph views -->
              </div>
            </form>
          </div>
        </div>

        <div id="goals">
          <h1>Enter your bigger-picture goal domains</h1>

            <div id="domains-form">
              <form name="domains" action="submit" method="post" accept-charset="UTF-8">
                <label for="domain">Domain:</label><br>
                  <input type="text" name="domain" placeholder="goaldomain" required><br>
                <label for="description">Description:</label><br>
                  <input type="text" name="description" placeholder="description" required><br>
              
              <div class="domain-submit">
              <!-- TODO: AJAX call to POST /api/users/domains -->
                <input id="domain-submit" type="submit" value="Track goal domain"><br>
                <!-- TODO: redirect to dashboardView -->
                <a href='#'>Goal domain tracker</a>
              </div>
            </form>
          </div>
        </div>
      </section>

      <!-- dashboardView, landingView if already signed in -->
      <section id="dashboard-page" class="tab-content">
        <div id="time-entry">
          <h1>Log the time you'd like to track</h1>
            <h2>Tag your entry by activity and/or domain (optional)</h2>

            <div id="timeblock-form">
              <form name="timeblock" action="submit" method="post" accept-charset="UTF-8">
                <label for="startTime">Start:</label><br>
                  <input type="text" name="startTime" placeholder="start time" required><br>
                <label for="endTime">End:</label><br>
                  <input type="text" name="endTime" placeholder="end time"><br>
                <label for="description">Description:</label><br>
                  <input type="text" name="description" placeholder="description" required><br>
                
                <!-- Dropdown for activity/domain tags -->
                <select id="activity-tag">
                  <!-- TODO: generate from /api/users/activities -->
                  <option selected value="base">Please select an activity</option><br>
                </select><br>

                <select id="domain-tag">
                  <!-- TODO: generate from /api/users/domains -->
                  <option selected value="base">Please select a goal domain</option>
                </select><br>
              
              <div class="timeblock-save">
              <!-- TODO: AJAX call to POST /api/timeblocks -->
                <input type="submit" value="Save entry"><br>
                <!-- TODO: re-render of chart with time-entry form cleared -->
                <!-- TODO: redirect to manageView -->
                <a href='#'>Setup and manage tracking</a>
              </div>
            </form>
        </div>
      
        <div id="charts-container">
          <!-- Pie describes how all time spent for all user activities/domains -->
          <div class="pie-chart-container">
            <!-- Mark to write logic for chart -->
            <canvas id="chart_canvas" width="300" height="300"></canvas>
          </div>

          <!-- Bar describes specific time budget/target specific user activity/domain -->
          <div class="bar-chart-container">
            <!-- Mark to write logic for chart -->
            <canvas id="chart_canvas" width="300" height="300"></canvas>
         </div>
        </div>
      </div>
    </section>
  </main>

  <!--Scripts-->
  <!--Vendor scripts-->
  <script type="text/javascript" src="/vendor/scripts/page.js"></script>
  <script src="/vendor/scripts/handlebars-v4.0.5.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/superagent/2.3.0/superagent.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.js"></script>
  <!-- jQuery not yet implemented -->
  <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>

  <!--View scripts-->
  <script type="text/javascript" src="/scripts/views/signupView.js"></script>
  <script type="text/javascript" src="/scripts/views/signinView.js"></script>
  <script type="text/javascript" src="/scripts/views/dashboardView.js"></script>
  <script type="text/javascript" src="/scripts/views/manageView.js"></script>
 
  <!--Controller scripts-->
  <!-- DONE: need to make sure appropriate controllers put here -->
  <script type="text/javascript" src ="/scripts/controllers/routes.js"></script>
  <script type="text/javascript" src ="/scripts/controllers/manageToken.js"></script>
  <script type="text/javascript" src ="/scripts/controllers/signupController.js"></script>
  <script type="text/javascript" src ="/scripts/controllers/signinController.js"></script>
  <script type="text/javascript" src ="/scripts/controllers/dashboardController.js"></script>
  <script type="text/javascript" src ="/scripts/controllers/manageController.js"></script>
</body>
</html>
